<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="968" height="1097" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Note over Build job (app): Start
Note over Build job (app): Checkout
Note over Build job (app): Build binaries
Note over Build job (app): Build images
Note over Build job (app): Push images
Note over Build job (app): Upload images
Note over Build job (app): Deploy to staging
Build job (app)->Deploy job (infra): build job with parameters\n[image: abc123, env_list: storj-nonprod-gateway]
Note over Deploy job (infra): Start
Note over Deploy job (infra): Prepare environment
Note over Deploy job (infra): Deploy app with ansible
Note over Deploy job (infra): End
Deploy job (infra)->Build job (app): Report back status (success, or failure)
Note over Build job (app): Post-deployment tests
Build job (app)->Post deploy job: build job
Note over Post deploy job: Start
Note over Post deploy job: Run tests
Note over Post deploy job: End
Post deploy job->Build job (app): report back status (success, or failure)
Note over Build job (app): End
]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><rect x="33.900001525878906" y="20" width="164.5" height="39" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="43.900001525878906" y="45" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="43.900001525878906">Build job (app)</tspan></text></g><g class="actor"><rect x="33.900001525878906" y="1038.2000007629395" width="164.5" height="39" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="43.900001525878906" y="1063.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="43.900001525878906">Build job (app)</tspan></text></g><line x1="116.1500015258789" x2="116.1500015258789" y1="59" y2="1038.2000007629395" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="501.8499984741211" y="20" width="193.39999389648438" height="39" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="511.8499984741211" y="45" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="511.8499984741211">Deploy job (infra)</tspan></text></g><g class="actor"><rect x="501.8499984741211" y="1038.2000007629395" width="193.39999389648438" height="39" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="511.8499984741211" y="1063.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="511.8499984741211">Deploy job (infra)</tspan></text></g><line x1="598.5499954223633" x2="598.5499954223633" y1="59" y2="1038.2000007629395" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="actor"><rect x="715.2499923706055" y="20" width="164.5" height="39" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="725.2499923706055" y="45" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="725.2499923706055">Post deploy job</tspan></text></g><g class="actor"><rect x="715.2499923706055" y="1038.2000007629395" width="164.5" height="39" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="725.2499923706055" y="1063.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="725.2499923706055">Post deploy job</tspan></text></g><line x1="797.4999923706055" x2="797.4999923706055" y1="59" y2="1038.2000007629395" style="stroke-width: 2px;" stroke="#000000" fill="none"></line><g class="note"><rect x="87.0666675567627" y="79" width="58.16666793823242" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="92.0666675567627" y="99" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="92.0666675567627">Start</tspan></text></g><g class="note"><rect x="72.61666870117188" y="128" width="87.06666564941406" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="77.61666870117188" y="148" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="77.61666870117188">Checkout</tspan></text></g><g class="note"><rect x="43.71666717529297" y="177" width="144.86666870117188" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="48.71666717529297" y="197" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="48.71666717529297">Build binaries</tspan></text></g><g class="note"><rect x="53.35000228881836" y="226" width="125.5999984741211" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="58.35000228881836" y="246" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="58.35000228881836">Build images</tspan></text></g><g class="note"><rect x="58.16666793823242" y="275" width="115.96666717529297" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="63.16666793823242" y="295" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="63.16666793823242">Push images</tspan></text></g><g class="note"><rect x="48.5333366394043" y="324" width="135.23332977294922" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="53.5333366394043" y="344" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="53.5333366394043">Upload images</tspan></text></g><g class="note"><rect x="29.26667022705078" y="373" width="173.76666259765625" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="34.26667022705078" y="393" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="34.26667022705078">Deploy to staging</tspan></text></g><g class="signal"><text x="126.1500015258789" y="422.8999996185303" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="126.1500015258789">build job with parameters</tspan><tspan dy="1.2em" x="126.1500015258789">[image: abc123, env_list: storj-nonprod-gateway]</tspan></text><line x1="116.1500015258789" x2="598.5499954223633" y1="460.20000076293945" y2="460.20000076293945" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="569.4666614532471" y="480.20000076293945" width="58.16666793823242" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="574.4666614532471" y="500.20000076293945" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="574.4666614532471">Start</tspan></text></g><g class="note"><rect x="502.0333251953125" y="529.2000007629395" width="193.03334045410156" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="507.0333251953125" y="549.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="507.0333251953125">Prepare environment</tspan></text></g><g class="note"><rect x="482.76666259765625" y="578.2000007629395" width="231.56666564941406" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="487.76666259765625" y="598.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="487.76666259765625">Deploy app with ansible</tspan></text></g><g class="note"><rect x="579.0999956130981" y="627.2000007629395" width="38.89999961853027" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="584.0999956130981" y="647.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="584.0999956130981">End</tspan></text></g><g class="signal"><text x="164.6833267211914" y="686.7000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="164.6833267211914">Report back status (success, or failure)</tspan></text><line x1="598.5499954223633" x2="116.1500015258789" y1="695.2000007629395" y2="695.2000007629395" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="10" y="715.2000007629395" width="212.3000030517578" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="15" y="735.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="15">Post-deployment tests</tspan></text></g><g class="signal"><text x="413.4749984741211" y="774.7000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="413.4749984741211">build job</tspan></text><line x1="116.1500015258789" x2="797.4999923706055" y1="783.2000007629395" y2="783.2000007629395" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="768.4166584014893" y="803.2000007629395" width="58.16666793823242" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="773.4166584014893" y="823.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="773.4166584014893">Start</tspan></text></g><g class="note"><rect x="749.1499938964844" y="852.2000007629395" width="96.69999694824219" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="754.1499938964844" y="872.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="754.1499938964844">Run tests</tspan></text></g><g class="note"><rect x="778.0499925613403" y="901.2000007629395" width="38.89999961853027" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="783.0499925613403" y="921.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="783.0499925613403">End</tspan></text></g><g class="signal"><text x="264.1583251953125" y="960.7000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="264.1583251953125">report back status (success, or failure)</tspan></text><line x1="797.4999923706055" x2="116.1500015258789" y1="969.2000007629395" y2="969.2000007629395" style="stroke-width: 2px; marker-end: url(&quot;#markerArrowBlock&quot;);" stroke="#000000" fill="none"></line></g><g class="note"><rect x="96.70000171661377" y="989.2000007629395" width="38.89999961853027" height="29" style="stroke-width: 2px;" stroke="#000000" fill="#ffffff"></rect><text x="101.70000171661377" y="1009.2000007629395" style="font-size: 16px; font-family: Andale Mono, monospace;"><tspan x="101.70000171661377">End</tspan></text></g></svg>