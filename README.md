# Transport Monitor
Monitoring tools for road incident management and reducing traffic congestion. Crowdsourcing information sharing for better and safer roads.

Goal: Effective design, engineering and delivery of Ethereum blockchain and IPFS and Filecoin storage aided solution for vehicles and citizens to make roads safer and better for everyone using predictive analytics, Chainlink automation, Ethereum, Filecoin, IPFS and Web3 eco-system tools. 

Solution: Technical solution for citizens, police officers and drivers to report and manage incidents, detect and prevent accidents on web and mobile.

Landing Website: https://sites.google.com/view/aspiring-road-safety/home

Demo, Screencast, Slides: https://drive.google.com/drive/u/0/folders/1-A3OA0GT21SBx8ipKeQkJHsj96Bb48AK

Filecoin Microgrant Recepient 2022-23 (Eth Transport) 

Details: We have developed a road incident management system using Javascript, HTML5, SAP's UI5 on the front end using open source video streaming system, Covalent API end points, IPFS and Filecoin, Chainlink, Tron's BTTC blockchain. We are starting an express server and storing data on the Filecoin Network for enabling sharing of government assets like toll prepaid card, car details information for interstate travel, driving license management and quarterly pollution check and control. Our solution is powered by Ethercalc (SocialCalc), Zora, Polygon NFT.Storage, Tableland, XMTP, Chainlink, Fluence, Litprotocol for security and live peer for online video streaming at the road incident spot for better coordination and immediate action.

How it works:

1. Camera Management: Add/edit/delete cameras for snapshots of road incident.

2. Object Detection using open source computer vision.

3. Video analytics configuration using IPFS.

4. Live streaming with Object Detection Video Analytics saving IPFS for screenshots.

5. Alarm storage using Ethereum. Save/delete alarm metadata and image to/from IPFS. Store the hash returned from IPFS to Ethereum test network. Provide links to alarms and blockchain transaction details.

6. Alarm Viewer: Add alarms with a single touch. Open the Alarm Settings menu from the home page. Add an alarm, set the wallpaper or choose an alarm tone. You can also delete an existing alarm.

----

Moralis: Deployment URL: https://3gtivnurtulj.usemoralis.com:2053/server (to be deployed to moralis)

----

Learning and Contributing in the Blockchain Eco-systems:

# Filecoin and IPFS ecosystem and tools

1.a. Filecoin and IPFS: We are utilizing Filecoin with smart contracts compiled to FVM for:

1. Creating a Transport NFT on the FVM for NFC tags of vehicle service and repair providers & vehicles to improve road incident management, decentralized NFT-based voting system for contract work by service providers, Votes are uploaded to IPFS with the most recent vote linking to one before. Please visit https://github.com/aspiringsecurity/EthTransport/tree/main/incident-counter-nft-gen-voting-dao/transport-fvm-nft-nfc-tags and https://github.com/aspiringsecurity/EthTransport/tree/main/incident-counter-nft-gen-voting-dao/nft-voting-dao/data-dao

Demo Video at https://drive.google.com/drive/u/0/folders/1-A3OA0GT21SBx8ipKeQkJHsj96Bb48AK

Decentralized NFT-based voting system for contract work for service & maintenance providers and companies and Ministry of Transportation. DAOs can issue NFTs to wallets based on service and maintenance performance and work completed, and the holders of these NFTs can create proposals and vote on other proposals whilst they have the NFTs of that contract work. Please visit https://github.com/aspiringsecurity/EthTransport/tree/main/incident-counter-nft-gen-voting-dao/nft-voting-dao/metis-nft-voting-contract-dao 

2. To develop and use composable blocks and ensure effective design, engineering and delivery of a decentralized solution for road safety, monitoring and incident management using Ethereum & Filecoin eco-system tools. A FVM compatible DAO Quotation Portal for Maintenance and Transport Infrastructure Management: please visit https://github.com/aspiringsecurity/EthTransport/tree/main/Asset-Management-Spare-Parts/Maintenance-Contract-Quote-FVM-Transport-DAO

Automated Workflow for decentralized voting for service providers and DAOs: 

- Vehicle DAOs create a RFP for providing service or maintenance on the dapp. 
- Vehicle drivers can join a RFP by minting an NFT of that RFP. This NFT is created on FVM. 
- Vehicle drivers that have a certain RFP's NFT are eligible to create proposals and vote on them. 
- Voting is gasless and the vote is stored on IPFS and Filecoin with the most recent vote linking to one before.

Votes are uploaded to IPFS with the most recent vote linking to one before. This is done by storing the previous vote's CID in the file of the newest one. Therefore a chain of verifiable data is created. Please visit https://github.com/aspiringsecurity/EthTransport/tree/main/incident-counter-nft-gen-voting-dao/nft-voting-dao/metiis-nft-voting-contract-dao

Bootstrapping Data DAOs on FVM: https://github.com/aspiringsecurity/EthTransport/tree/main/incident-counter-nft-gen-voting-dao/nft-voting-dao/data-dao and https://github.com/aspiringsecurity/EthTransport/tree/main/roadincidentmanagement/fevm-bootstrap

TRM custom token at FVM and Early experiments on Hyperspace testnet: please visit https://hyperspace.filfox.info/en/tx/0xd0a88d7d054e8babe6909523e0cc92147d35e0421b16af169eb78b1af6d6c25b and https://hyperspace.filfox.info/en/address/0x19df3bfd0f2020275436653931326ca417e02c73


We are using IPFS and Filecoin for storing a variety of offchain data like incident snapshots, alarm metadata and object types at the time of incident. Please find the video at https://drive.google.com/drive/u/0/folders/1-A3OA0GT21SBx8ipKeQkJHsj96Bb48AK (demo_screen capture.mov file under mobile screen capture and demos). We are storing Alarm metadata using IPFS. Also, Saving/deleting alarm metadata and image to/from Filecoin, IPFS. We are also storing the hash returned from IPFS to Ethereum test network.
 Further we are using IPFS for: Video analytics configuration using web3ui.Storage; Camera Management: Add/edit/delete cameras with integration with Livepeer, NFT.Storage; Live streaming with Object Detection Video Analytics using Livepeer for streaming, and web3ui.Storage for snapshots. Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/roadincidentmanagement/w3ui-incident-storage

We are also extending the w3notes example app to develop an incident notes tool for the road administrators. Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/roadincidentmanagement/w3ui-incident-notes

NFT.Storage for Filecoin: We are also learning to use NFT.Storage: Please visit https://github.com/aspiringsecurity/EthTransport/tree/main/incidentandalarmstorage


b. Polygon: We are utilizing ZoraModuleManager, and ZoraProtocolFeeSettings in our our dapp and deploying it on Polygon after registering the Zora market module. Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/alarmviewer

Please find the video at https://drive.google.com/drive/u/3/folders/1vo_ZnHzqYwd7lDaZKGSXev3Vvya7DjJT (demo_screen capture.mov file under mobile screen capture and demos for NVP challenges directory ).

We are using the zora starter kit to access ZORA API, Creator Toolkit, and Marketplace Hyperstructure. Zora's Auction House template is being utilized for NFT marketplace of alarm clock wallpapers and background ringtones purchase and auction. We are also extending and adapting Turtle Music using NFT Experiments for music curators for alarm clock. We are using DAOtooling for coordination with a social focus around community collaboration for road incidents and alarms.


# Chainlink and Web3 eco-system

Chainlink: Chainlink: We are extending and adapting the Chainlink project "Link My Ride" to develop a decentralized first aid and ambulance platform by using Chainlink External Adapter to connect a Tesla Vehicle API to a Chainlink oracle for a peer-to-peer vehicle rental app. We wish to use it for Maruti Vehicle API and Hyundai Vehicle API too. Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/decentralized-ambulance

We are utilizing Chainlink VRF as follows:

E-Challan (Transport Receipt) Bill Generation: We are utilizing Chainlink Mix to work with Chainlink smart contracts. The bill script will deploy a smart contract to goerli and get a Random number via Chainlink VRF, which can used to identify a unique transaction/order number for the receipt or bill. Link: https://github.com/aspiringsecurity/EthTransport/tree/main/roadincidentmanagement/IPFS-Chainlink-Monitor-main

Parametric Insurance Solution in public transportation especially for project finance. We are utilizing an existing example at chainlink github repo to develop an insurance solution for public transportation. Link: https://github.com/aspiringsecurity/EthTransport/tree/main/roadincidentmanagement

Fleet and Cab Drivers and Vehicle Service Organizations Payouts:  Chainlink Parametric Insurance dapp at https://github.com/aspiringsecurity/EthTransport/tree/main/Fleet-cab-drivers-service-payout

NFT and Certificate for Good Services in Repair and Vehicle services: https://github.com/aspiringsecurity/EthTransport/tree/main/dapp-tools/NFT-giveaway-certificate-service-rating 

Contract Allocation Reviews: https://github.com/aspiringsecurity/EthTransport/tree/main/dapp-tools/contract-allocation-reviews

Chainlink Automation: Batch NFT Reveal in NFT marketplace for NFC tags of Vehicles. Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/incident-counter-nft-gen-voting-dao/automate-batch-nft-reveal


- Space and Time: Dynamic NFT generator for NFC tags of vehicles using SxT and Chainlink at https://github.com/aspiringsecurity/EthTransport/tree/main/FVM-Upload-Incident-NFT-IPFS/Transport-SxT-dNFT

Dynamic NFT for for Good Services in Repair and Vehicle servicing: https://github.com/aspiringsecurity/EthTransport/tree/main/dapp-tools/NFT-giveaway-certificate-service-rating/Transport-SxT-dNFT 


Verse DEX tokens: Creating custom TRM token at Verse. Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/Fleet-cab-drivers-service-payout/Token-verse-dex

Chainlink Functions: We are learning to utilize Chainlink Functions in Transport Monitor at https://github.com/aspiringsecurity/EthTransport/tree/main/roadincidentmanagement

Work Order Manager and Billing Tool suite within OP Spare Parts NFT marketplace: please visit https://github.com/aspiringsecurity/EthTransport/tree/main/Asset-Management-Spare-Parts/OP-Work-Order-Suite

Invoice to Cash Automation using inteloneapi sdk and OP community tooling: https://github.com/aspiringsecurity/EthTransport/tree/main/Asset-Management-Spare-Parts/invoice-to-cash-automation


# Optimism and Lit

Optimism NFT marketplace for spare parts of vehicles: Optimism NFT marketplace for NFC tags of spare parts of vehicles, enabling sharing of government assets and service/repair of vital assets, reduction in counterfeiting of vital spare parts of vehicles and transport infrastructure: please visit https://github.com/aspiringsecurity/EthTransport/tree/main/Asset-Management-Spare-Parts/optimism-parts-nft-marketplace


Lit : We are using Lit protocol to automate signing, reading, and writing road incident metadata (snapshots) and alarm viewer data to web3 decentralized networks (Ethereum and IPFS).

- Lit Access Control: Lit Protocol Oauth to Enable faster login for 5 different personas. The 5 different personas: Citizen, Police officer, dispatcher, admin, government roles can easily be authenticated and logged in so that they can use their Ethereum address. Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/incidentandalarmstorage/Lit-Access-Control-Google-OAuth

Token-gate the Incident Dashboard Page with 5 different personas using Lit Protocol: Please visit https://github.com/aspiringsecurity/EthTransport/tree/main/incidentandalarmstorage/Lit-Token-Gating-Access-Control

- Lit Actions: We are using JS function bindings to do things like request a signature or a decryption. Please visit:

i) https://github.com/aspiringsecurity/EthTransport/tree/main/incidentandalarmstorage/lit-actions_conditional_signing

ii) https://github.com/aspiringsecurity/EthTransport/tree/main/incidentandalarmstorage/lit-actions_sign_api_response


2. NFTPort Dashboard: We are using NFTPort to see all NFTs from different networks. This enables drivers, citizens, police officers and administrators to:

- View their NFTs in different network when they enter their address and select the network such as Ethereum, Polygon (Matic), Avalanche, and Binance Smart Chain

- View the contract of the NFT such as floor price, unique token ids sold today, gas quote rate day, and list of NFTs minted

Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/Asset-Management-Spare-Parts/NFT-Dashboard-NFTPort
 
 
 3. Tableland: We are using Tableland for implementing incident notes maintained by transport administrators. Please visit Incident Notes powered by Tableland at https://github.com/aspiringsecurity/EthTransport/tree/main/incidentnotestableland/incidentnotes
 
 
 4. XMTP: We are implementing XMTP Chat for Transport administrators in a particular region with CyberConnect functions. Please visit the implementation link: https://github.com/aspiringsecurity/EthTransport/tree/main/XMTPChat-with-cyberconnect
 
 Please also visit XMTP integrations with the platform:
 
 a. https://github.com/aspiringsecurity/EthTransport/tree/main/xmtp-loc-chat
 
 b. https://github.com/aspiringsecurity/EthTransport/tree/main/xmtp-messaging
 

5. Fluence: We are using Fluence to develop a counter for road incidents reported by citizens and complains resolved by police authorities in a specific region which could be shared across citizens and government authorities. Our impact solution for citizens create a positive societal behavior and can be used for availing tax benefits, citizen rewards and ecommerce gift cards by Ministry of Road and Transportation.

Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/incident-counter-fluence/fluence-incident-count


6. a. Livepeer: We are using Livepeer as the key infrastructure provider for online video streaming of critical road incidents. We are using Livepeer at: Live streaming with Object Detection Video Analytics using Livepeer for streaming; Camera Management: Add/edit/delete cameras with integration with Livepeer.

Functions: Live streaming with Object Detection Video Analytics using Livepeer for streaming; Camera Management: Add/edit/delete cameras with integration with Livepeer

Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/roadincidentmanagement/livepeer-decentralized-streaming

Livepeer Video NFT: https://github.com/aspiringsecurity/EthTransport/tree/main/roadincidentmanagement/livepeer-video-nft

b. Tron's BTTC blockchain: We are using DAOtooling for coordination with a social focus around community collaboration for road incidents and alarms using Tron DAO. Please visit https://github.com/seetadev/EtherMonitor/tree/main/zoracommunitymarketplace/tron-contracts

 
7. Push Protocol: Push alerts integration for investigative case management by administrators and dispatchers. We are developing a dashboard and newsletter structure for recording the weekly minutes of the meeting for ICM (investigative case management) and improving road safety. Please visit the module link: 
https://github.com/aspiringsecurity/EthTransport/tree/main/Medium-Meeting-Reports/push-alerts-integration



9. Covalent API end Points: We are using Covalent to see all NFTs for NFC tags of vehicles across different networks. Further, we have the following Covalent end-points APIs:

Get Log Events by Contract Address: to get log events like sold/listed nft for NFC tags/NFC Tags of vehicles on marketplace. 

Get Log Events by Incident Types: to get log data for specific incident event along with its metadata

Get NFT External Metadata: To get metadata for NFT like attribute and snapshot images.

Get Historical Token Prices: To get price of token for currency that accept NFT/item on marketplace.


We are developing a Transport DAO platform using Covalent that enables fleet providers, cab aggregators and corporate organizations to keep track of all the details of their Transport assets, vehicle assets, DeFi investments, transactions, and assets across all multiple chains and also displays DAO data using a data visualization chart. We are building our solution on top of an existing web3 dashboard system and are planning to integrate it with an analytics, tabulation and collaboration tool namely EtherCalc. Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/Covalent-Dashboard

Web3 Car Parts Dashboard powered by Covalent is a DAO platform that enables Transport Ministry and third party service and repair organizations to keep track of all the details of their transport assets, DeFi investments, transactions, and assets across all multiple chains and also displays DAO data using a data visualization chart. We are building our solution on top of an existing web3 dashboard system and are planning to integrate an analytics, tabulation and collaboration tool namely EtherCalc. Please visit: https://github.com/aspiringsecurity/EthTransport/tree/main/Car-Parts-Dashboard


11. ZK Transport Wallet at https://github.com/aspiringsecurity/EthTransport/tree/main/Asset-Management-Spare-Parts/ZK-Transport-Wallet

ZK Transport wallet supports operations like the signing of the transaction and other cryptographic operations across multiple platforms and blockchains that improve the overall usability and interoperability. We used Zokrates for building the ZK Transport Wallet. 

Please visit the demo at https://drive.google.com/drive/u/3/folders/1M2x5Qoq2YkzCyFiu9QJEciuqfDTKMM7a



